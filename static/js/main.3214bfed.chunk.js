(this.webpackJsonplogcompare=this.webpackJsonplogcompare||[]).push([[0],{106:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),i=a.n(c),s=(a(106),a(26)),o=a(13),u=a.n(o),l=a(70),p=a(19),d=a(91),j=a(170),b=a(173),m=a(36),f=a(161),h=a(171),x=a(172),O=a(162),g=a(164),v=a(163),k=a(165),w=a(166),y=a(167),P=a(175),C=a(168),F=a(169),S=a(21),D=a(11),M=a(2),I=a(8);function z(e){return Object(I.jsxs)(S.c,{rotated:!0,data:e.data,children:[Object(I.jsx)(D.b,{factory:M.zb}),Object(I.jsx)(S.a,{}),Object(I.jsx)(S.g,{}),Object(I.jsx)(S.b,{valueField:"percentrankdps",argumentField:"account",name:"Percentile DPS"}),Object(I.jsx)(S.b,{valueField:"percentrankmight",argumentField:"account",name:"Percentile Might"}),Object(I.jsx)(S.b,{valueField:"percentrankquickness",argumentField:"account",name:"Percentile Quickness"}),Object(I.jsx)(S.b,{valueField:"percentrankalacrity",argumentField:"account",name:"Percentile Alacrity"}),Object(I.jsx)(S.b,{valueField:"percentrankfury",argumentField:"account",name:"Percentile Fury"}),Object(I.jsx)(D.j,{}),Object(I.jsx)(S.d,{}),Object(I.jsx)(D.f,{}),Object(I.jsx)(S.f,{}),Object(I.jsx)(S.e,{text:e.title})]})}var E=Object(k.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(7),height:e.spacing(7)}}}));function L(e){var t=E();return e.data?Object(I.jsxs)(w.a,{variant:"outlined",children:[Object(I.jsx)(y.a,{avatar:Object(I.jsx)(P.a,{variant:"square",className:t.large,alt:e.data.metadata.fightName,src:e.data.metadata.fightIcon}),title:e.data.metadata.fightName,subheader:"".concat(e.data.metadata.permaLink," \n LogCompare ID: ").concat(e.data.metadata.tryID)}),Object(I.jsxs)(C.a,{children:[Object(I.jsx)(z,{data:e.data.data.filter((function(e){return"DPS"===e.archetype})).sort((function(e,t){return e.percentrankdps-t.percentrankdps})),title:"DPS: Compare Percentiles"}),Object(I.jsx)(z,{data:e.data.data.filter((function(e){return"SUPPORT"===e.archetype})).sort((function(e,t){return e.percentrankdps-t.percentrankdps})),title:"SUPPORT: Compare Percentiles"}),Object(I.jsx)(z,{data:e.data.data.filter((function(e){return"HEALER"===e.archetype})),title:"HEALER: Compare Percentiles"})]})]}):Object(I.jsxs)(w.a,{variant:"outlined",children:[Object(I.jsx)(y.a,{avatar:Object(I.jsx)(P.a,{variant:"square",className:t.large,alt:void 0,src:void 0}),title:void 0,subheader:void 0}),Object(I.jsx)(C.a,{children:!e.isEmpty&&Object(I.jsx)(F.a,{})})]})}var T=a(174),N=Object(k.a)((function(e){return Object(T.a)({previewChip:{minWidth:160,maxWidth:210},root:{width:"100%",backgroundColor:e.palette.grey[300],display:"flex",flexDirection:"row",padding:0}})}));function R(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(new Map),i=Object(p.a)(c,2),o=i[0],k=i[1],w=Object(n.useState)(new Map),y=Object(p.a)(w,2),P=y[0],C=y[1],F=Object(n.useState)(""),S=Object(p.a)(F,2),D=S[0],M=S[1],z="https://logcompare.herokuapp.com",E=N();function T(e){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(u.a.mark((function e(t){var a,n,r,c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=29;break}return e.prev=1,(a=new FormData).append("file",t),console.log(a.get("file")),e.next=7,fetch("".concat(z,"/api/encounters/upload_report/"),{method:"POST",body:a});case 7:if(!(n=e.sent).ok){e.next=24;break}return e.next=11,n.json();case 11:return r=e.sent,e.next=14,fetch("".concat(z,"/api/percentiles/?name=").concat(r.fightName));case 14:if(!(c=e.sent).ok){e.next=23;break}return e.next=18,c.json();case 18:return i=e.sent,s=i.filter((function(e){return e.tryID===r.tryID})),e.abrupt("return",{metadata:r,data:s});case 23:return e.abrupt("return",null);case 24:e.next=29;break;case 26:return e.prev=26,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 29:return e.abrupt("return",null);case 30:case"end":return e.stop()}}),e,null,[[1,26]])})))).apply(this,arguments)}function B(){return(B=Object(l.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(s.a)(a),e.prev=1,r=u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.value,0===P.get(t.name)){e.next=3;break}return e.abrupt("return","continue");case 3:return e.prev=3,C((function(e){return new Map(e).set(t.name,10)})),e.next=7,T(t);case 7:(a=e.sent)&&(C((function(e){return new Map(e).set(t.name,70)})),C((function(e){return new Map(e).set(t.name,100)})),k((function(e){return new Map(e).set(t.name,a)}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})),t.s();case 4:if((n=t.n()).done){e.next=11;break}return e.delegateYield(r(),"t0",6);case 6:if("continue"!==e.t0){e.next=9;break}return e.abrupt("continue",9);case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(1),t.e(e.t1);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})))).apply(this,arguments)}return Object(I.jsxs)(j.a,{maxWidth:"lg",children:[Object(I.jsx)(b.a,{paddingTop:2,paddingBottom:2,marginBottom:1,color:"primary.main",children:Object(I.jsx)(m.a,{variant:"h2",align:"center",children:"Log Compare"})}),Object(I.jsx)(d.a,{maxFileSize:2e7,acceptedFiles:[".evtc",".zevtc"],onChange:function(e){var t=new Map(P);e.forEach((function(e){t.has(e.name)||t.set(e.name,0)})),r(e),C(t)},filesLimit:10,onDelete:function(e){r(a.splice(a.findIndex((function(t){return t.name===e.name})),0)),C((function(){var t=P;return t.delete(e.name),t}))},showPreviews:!0,showPreviewsInDropzone:!1,useChipsForPreview:!0,previewGridProps:{container:{spacing:1,direction:"row"}},previewChipProps:{classes:{root:E.previewChip}},previewText:"Selected files"}),Object(I.jsxs)(b.a,{marginTop:2,marginBottom:2,children:[Object(I.jsx)(f.a,{variant:"outlined",size:"large",color:"primary",onClick:function(){return B.apply(this,arguments)},children:"Compare"}),Object(I.jsx)(f.a,{variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.reload()},children:"Refresh Page"}),Object(I.jsx)(f.a,{variant:"outlined",size:"large",color:"primary",onClick:function(){r([]),k(new Map),C(new Map),M("")},children:"Clear All"}),Object(I.jsx)(O.a,{dense:!0,className:E.root,children:a.map((function(e){return Object(I.jsxs)(g.a,{button:!0,divider:!0,onClick:function(){M(e.name)},children:[Object(I.jsx)(h.a,{children:Object(I.jsx)(x.a,{variant:"determinate",value:P.get(e.name),style:{marginRight:10}})}),Object(I.jsx)(v.a,{primary:"File: ".concat(e.name)})]},e.name)}))})]}),Object(I.jsx)(L,{isEmpty:0===o.size,data:o.get(D)})]})}var B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,177)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(R,{})}),document.getElementById("root")),B()}},[[123,1,2]]]);
//# sourceMappingURL=main.3214bfed.chunk.js.map