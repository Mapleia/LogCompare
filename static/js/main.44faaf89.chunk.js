(this.webpackJsonplogcompare=this.webpackJsonplogcompare||[]).push([[0],{125:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=n.n(c),s=(n(125),n(23)),o=n(12),u=n.n(o),l=n(21),p=n(57),d=n(18),j=n(103),b=n(197),f=n(198),m=n(204),h=n(34),x=n(208),O=n(203),g=n(199),v=n(185),k=n(200),y=n(201),w=n(143),S=n(202),C=n(102),P=n.n(C),D=n(100),N=n.n(D),F=n(101),I=n.n(F),M=n(188),R=n(190),E=n(189),L=n(191),T=n(192),z=n(193),A=n(209),B=n(194),W=n(196),J=n(195),q=n(25),H=n(16),Y=n(2),_=n(8);function U(e){return Object(_.jsxs)(q.c,{rotated:!0,data:e.data,children:[Object(_.jsx)(H.b,{factory:Y.zb}),Object(_.jsx)(q.a,{}),Object(_.jsx)(H.n,{name:"percentile",modifyDomain:function(){return[0,1]}}),Object(_.jsx)(q.g,{scaleName:"percentile"}),Object(_.jsx)(q.b,{valueField:"percentrankdps",argumentField:"account",name:"Percentile DPS",scaleName:"percentile"}),Object(_.jsx)(q.b,{valueField:"percentrankmight",argumentField:"account",name:"Percentile Might",scaleName:"percentile"}),Object(_.jsx)(q.b,{valueField:"percentrankquickness",argumentField:"account",name:"Percentile Quickness",scaleName:"percentile"}),Object(_.jsx)(q.b,{valueField:"percentrankalacrity",argumentField:"account",name:"Percentile Alacrity",scaleName:"percentile"}),Object(_.jsx)(q.b,{valueField:"percentrankfury",argumentField:"account",name:"Percentile Fury",scaleName:"percentile"}),Object(_.jsx)(H.j,{}),Object(_.jsx)(q.d,{}),Object(_.jsx)(H.f,{}),Object(_.jsx)(q.f,{}),Object(_.jsx)(q.e,{text:e.title})]})}var V=Object(L.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(7),height:e.spacing(7)}}}));function G(e){var t=V();return e.data?Object(_.jsxs)(T.a,{variant:"outlined",children:[Object(_.jsx)(z.a,{avatar:Object(_.jsx)(A.a,{variant:"square",className:t.large,alt:e.data.metadata.name,src:e.data.metadata.icon}),title:e.data.metadata.name,subheader:Object(_.jsx)(W.a,{href:e.data.metadata.permaLink,children:e.data.metadata.permaLink})}),Object(_.jsxs)(B.a,{children:[Object(_.jsx)(U,{data:e.data.data.filter((function(e){return"DPS"===e.archetype})).sort((function(e,t){return e.percentrankdps-t.percentrankdps})),title:"DPS: Compare Percentiles"}),Object(_.jsx)(U,{data:e.data.data.filter((function(e){return"SUPPORT"===e.archetype})).sort((function(e,t){return e.percentrankdps-t.percentrankdps})),title:"SUPPORT: Compare Percentiles"}),Object(_.jsx)(U,{data:e.data.data.filter((function(e){return"HEALER"===e.archetype})),title:"HEALER: Compare Percentiles"})]})]}):Object(_.jsxs)(T.a,{variant:"outlined",children:[Object(_.jsx)(z.a,{avatar:Object(_.jsx)(A.a,{variant:"square",className:t.large,alt:void 0,src:void 0}),title:void 0,subheader:void 0}),Object(_.jsx)(B.a,{children:!e.isEmpty&&Object(_.jsx)(J.a,{})})]})}var Q,K=n(207),X=n(205),Z=Object(L.a)((function(e){return Object(K.a)({previewChip:{minWidth:160,maxWidth:210},root:{width:"100%",backgroundColor:e.palette.grey[300],display:"flex",flexDirection:"row",padding:0,marginTop:10,marginBottom:10},control:{justifyContent:"center",display:"flex",marginBottom:10},list:{maxWidth:"100%",backgroundColor:e.palette.grey[300],display:"flex",flexFlow:"row wrap",padding:0},listItem:{maxWidth:"20%"},iconButton:{padding:10},divider:{height:28,margin:4}})}));function $(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),o=Object(d.a)(i,2),C=o[0],D=o[1],F=Object(a.useState)([]),L=Object(d.a)(F,2),T=L[0],z=L[1],A=Object(a.useState)(""),B=Object(d.a)(A,2),W=B[0],J=B[1],q=Object(a.useState)(""),H=Object(d.a)(q,2),Y=H[0],U=H[1],V=Object(a.useState)(new Map),K=Object(d.a)(V,2),$=K[0],ee=K[1],te=Object(a.useState)(new Map),ne=Object(d.a)(te,2),ae=ne[0],re=ne[1],ce=r.a.useState(!1),ie=Object(d.a)(ce,2),se=ie[0],oe=ie[1],ue=Object(a.useState)(null),le=Object(d.a)(ue,2),pe=le[0],de=le[1],je=Object(a.useState)(""),be=Object(d.a)(je,2),fe=be[0],me=be[1],he="https://logcompare.herokuapp.com",xe=Z();function Oe(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(p.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(he,"/api/percentiles/?name=").concat(t.name));case 2:if(!(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=[];case 10:return a=e.t0,r=a.filter((function(e){return e.tryID===t.tryID})),c={metadata:t,data:r},e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(p.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=6;break}return e.next=3,fetch("".concat(he,"/api/fights/upload_report/"),{method:"POST",body:t,headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,fetch("".concat(he,"/api/fights/upload_report/"),{method:"POST",body:t});case 8:n=e.sent;case 9:return e.next=11,n.json();case 11:if(a=e.sent,!n.ok){e.next=16;break}return e.next=15,Oe(a);case 15:return e.abrupt("return",e.sent);case 16:return e.abrupt("return",Promise.reject(a));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,t,n){n?(re((function(t){return new Map(t).set(e,Q.Done)})),ee((function(n){return new Map(n).set(e,t)}))):(re((function(t){return new Map(t).set(e,Q.Error)})),de(t))}function we(){return(we=Object(p.a)(u.a.mark((function e(t,a){var r,c,i,o,l,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&a.preventDefault(),r=Object(s.a)(n),e.prev=2,i=u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.value,ae.get(t.name)!==Q.Done){e.next=3;break}return e.abrupt("return","continue");case 3:return re((function(e){return new Map(e).set(t.name,Q.Started)})),e.prev=4,(n=new FormData).append("file",t),e.next=9,ve(n);case 9:a=e.sent,ye(t.name,a,!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),ye(t.name,e.t0,!1);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})),r.s();case 5:if((c=r.n()).done){e.next=12;break}return e.delegateYield(i(),"t0",7);case 7:if("continue"!==e.t0){e.next=10;break}return e.abrupt("continue",10);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(2),r.e(e.t1);case 17:return e.prev=17,r.f(),e.finish(17);case 20:o=Object(s.a)(C),e.prev=21,p=u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,ae.get(t)!==Q.Done){e.next=3;break}return e.abrupt("return","continue");case 3:return re((function(e){return new Map(e).set(t,Q.Started)})),e.prev=4,console.log(JSON.stringify({link:t})),e.next=8,ve(JSON.stringify({link:t}));case 8:n=e.sent,ye(t,n,!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),ye(t,e.t0,!1);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})),o.s();case 24:if((l=o.n()).done){e.next=31;break}return e.delegateYield(p(),"t2",26);case 26:if("continue"!==e.t2){e.next=29;break}return e.abrupt("continue",29);case 29:e.next=24;break;case 31:e.next=36;break;case 33:e.prev=33,e.t3=e.catch(21),o.e(e.t3);case 36:return e.prev=36,o.f(),e.finish(36);case 39:case"end":return e.stop()}}),e,null,[[2,14,17,20],[21,33,36,39]])})))).apply(this,arguments)}function Se(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(p.a)(u.a.mark((function e(t,n){var a,r,c,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&n.preventDefault(),e.next=3,fetch("".concat(he,"/api/fights/account_fight/?account=").concat(W));case 3:if(!(a=e.sent).ok){e.next=24;break}return e.next=7,a.json();case 7:r=e.sent,c=Object(s.a)(r),e.prev=9,o=u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.value,z((function(e){return[].concat(Object(l.a)(e),[t.tryID])})),re((function(e){return new Map(e).set(t.tryID,Q.Started)})),e.prev=3,e.next=6,Oe(t);case 6:n=e.sent,ye(t.tryID,n,!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),ye(t.tryID,e.t0,!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})),c.s();case 12:if((i=c.n()).done){e.next=16;break}return e.delegateYield(o(),"t0",14);case 14:e.next=12;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(9),c.e(e.t1);case 21:return e.prev=21,c.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[9,18,21,24]])})))).apply(this,arguments)}function Pe(e){switch(e){case Q.Started:return Object(_.jsx)(b.a,{variant:"determinate",value:10,style:{marginRight:10}});case Q.Running:return Object(_.jsx)(b.a,{variant:"indeterminate",style:{marginRight:10}});case Q.Done:return Object(_.jsx)(b.a,{variant:"determinate",value:100,style:{marginRight:10}});default:return Object(_.jsx)(b.a,{variant:"determinate",value:2,style:{marginRight:10}})}}function De(e,t){"clickaway"!==t&&oe(!1)}return Object(_.jsxs)(f.a,{maxWidth:"lg",children:[Object(_.jsx)(m.a,{paddingTop:2,paddingBottom:2,marginBottom:1,color:"primary.main",children:Object(_.jsx)(h.a,{variant:"h2",align:"center",children:"Log Compare"})}),Object(_.jsx)(x.a,{open:se,autoHideDuration:6e3,onClose:De,children:Object(_.jsx)(X.a,{onClose:De,severity:"error",children:pe})}),Object(_.jsx)(j.a,{maxFileSize:2e11,acceptedFiles:[".evtc",".zevtc"],onChange:function(e){var t=new Map(ae);e.forEach((function(e){t.has(e.name)||t.set(e.name,Q.NotStarted)})),c(e),re(t)},filesLimit:10,onDelete:function(e){c(n.splice(n.findIndex((function(t){return t.name===e.name})),0)),re((function(){var t=ae;return t.delete(e.name),t}))},showPreviewsInDropzone:!0}),Object(_.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(_.jsx)(O.a,{id:"dpsreport-full-width",name:"dpsreport",label:"dps.report",style:{margin:8},placeholder:"https://dps.report/...",helperText:"Paste a dps.report link here!",fullWidth:!0,margin:"normal",variant:"outlined",value:Y,InputLabelProps:{shrink:!0},onChange:function(e){return U(e.target.value)},InputProps:{startAdornment:Object(_.jsxs)(g.a,{position:"start",children:[Object(_.jsx)(v.a,{className:xe.iconButton,"aria-label":"search-for-account",onClick:function(e){return D((function(e){return[].concat(Object(l.a)(e),[Y])}))},children:Object(_.jsx)(N.a,{})}),Object(_.jsx)(k.a,{className:xe.divider,orientation:"vertical"}),Object(_.jsx)(v.a,{className:xe.iconButton,"aria-label":"clear-input",onClick:function(e){U("")},children:Object(_.jsx)(I.a,{})})]})}})}),Object(_.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return Se(!0,e)},children:Object(_.jsx)(O.a,{id:"account-full-width",label:"Account",style:{margin:8},placeholder:"Gw2 Account Name",helperText:"Search for your account",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},onChange:function(e){return J(e.target.value)},InputProps:{startAdornment:Object(_.jsx)(g.a,{position:"start",children:Object(_.jsx)(v.a,{"aria-label":"search for account",onClick:function(e){return Se(!1,e)},children:Object(_.jsx)(P.a,{})})})}})}),Object(_.jsxs)(y.a,{size:"large",color:"primary","aria-label":"control-group",className:xe.control,children:[Object(_.jsx)(w.a,{variant:"outlined",size:"large",color:"primary",onClick:function(e){return function(e,t){return we.apply(this,arguments)}(!1,e)},children:"Compare"}),Object(_.jsx)(w.a,{variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.reload()},children:"Refresh Page"}),Object(_.jsx)(w.a,{variant:"outlined",size:"large",color:"primary",onClick:function(){c([]),D([]),ee(new Map),re(new Map),de(null),me("")},children:"Clear All"})]}),Object(_.jsxs)(M.a,{dense:!0,className:xe.list,children:[n.map((function(e){return Object(_.jsxs)(R.a,{className:xe.listItem,button:!0,divider:!0,onClick:function(){me(e.name)},children:[Object(_.jsx)(S.a,{children:Pe(ae.get(e.name))}),Object(_.jsx)(E.a,{primary:"File: ".concat(e.name)})]},e.name)})),C.map((function(e){return Object(_.jsxs)(R.a,{className:xe.listItem,button:!0,divider:!0,onClick:function(){me(e)},children:[Object(_.jsx)(S.a,{children:Pe(ae.get(e))}),Object(_.jsx)(E.a,{primary:"Link: ".concat(e)})]},e)})),T.map((function(e){return Object(_.jsxs)(R.a,{button:!0,className:xe.listItem,divider:!0,onClick:function(){me(e)},children:[Object(_.jsx)(S.a,{children:Pe(ae.get(e))}),Object(_.jsx)(E.a,{primary:"tryID: ".concat(e)})]},e)}))]}),Object(_.jsx)(G,{isEmpty:0===$.size,data:$.get(fe)})]})}!function(e){e[e.NotStarted=0]="NotStarted",e[e.Started=1]="Started",e[e.Running=2]="Running",e[e.Done=3]="Done",e[e.Error=4]="Error"}(Q||(Q={}));var ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,211)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)($,{})}),document.getElementById("root")),ee()}},[[142,1,2]]]);
//# sourceMappingURL=main.44faaf89.chunk.js.map