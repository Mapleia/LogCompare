(this.webpackJsonplogcompare=this.webpackJsonplogcompare||[]).push([[0],{126:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(15),o=a.n(i),s=(a(126),a(31)),l=a(20),u=a(13),p=a.n(u),d=a(89),j=a(54),b=a(19),f=a(207),h=a(213),m=a(55),v=a(212),O=a(208),x=a(196),g=a(209),k=a(214),y=a(211),w=a(206),P=a(210),S=a(144),C=a(217),D=a(200),F=a(218),N=a(102),L=a.n(N),I=a(103),T=a.n(I),z=a(104),A=a.n(z),B=a(215),R=a(105);!function(e){e[e.Started=0]="Started",e[e.Done=1]="Done"}(n||(n={}));var E=a(201),M=a(202),W=a(220),q=a(203),H=a(205),J=a(204),Y=a(26),_=a(16),G=a(2),U=a(9);function V(e){return Object(U.jsxs)(Y.c,{rotated:!0,data:e.data?e.data:[],children:[Object(U.jsx)(_.b,{factory:G.zb}),Object(U.jsx)(Y.a,{}),Object(U.jsx)(_.n,{name:"percentile",modifyDomain:function(){return[0,1]}}),Object(U.jsx)(Y.g,{scaleName:"percentile"}),Object(U.jsx)(Y.b,{valueField:"percentrankdps",argumentField:"account",name:"Percentile DPS",scaleName:"percentile"}),Object(U.jsx)(Y.b,{valueField:"percentrankmight",argumentField:"account",name:"Percentile Might",scaleName:"percentile"}),Object(U.jsx)(Y.b,{valueField:"percentrankquickness",argumentField:"account",name:"Percentile Quickness",scaleName:"percentile"}),Object(U.jsx)(Y.b,{valueField:"percentrankalacrity",argumentField:"account",name:"Percentile Alacrity",scaleName:"percentile"}),Object(U.jsx)(Y.b,{valueField:"percentrankfury",argumentField:"account",name:"Percentile Fury",scaleName:"percentile"}),Object(U.jsx)(_.j,{}),Object(U.jsx)(Y.d,{}),Object(U.jsx)(_.f,{}),Object(U.jsx)(Y.f,{}),Object(U.jsx)(Y.e,{text:e.title})]})}var Q=Object(D.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(7),height:e.spacing(7)}}}));function K(e){var t,a,n,r,c,i,o,s,l=Q();return e.data?Object(U.jsxs)(E.a,{variant:"outlined",children:[Object(U.jsx)(M.a,{avatar:Object(U.jsx)(W.a,{variant:"square",className:l.large,alt:null===(t=e.data.metadata)||void 0===t?void 0:t.name,src:null===(a=e.data.metadata)||void 0===a?void 0:a.icon}),title:null===(n=e.data.metadata)||void 0===n?void 0:n.name,subheader:Object(U.jsx)(H.a,{href:null===(r=e.data.metadata)||void 0===r?void 0:r.permaLink,children:null===(c=e.data.metadata)||void 0===c?void 0:c.permaLink})}),Object(U.jsxs)(q.a,{children:[Object(U.jsx)(V,{data:null===(i=e.data.data)||void 0===i?void 0:i.filter((function(e){return"DPS"===e.archetype})).sort((function(e,t){return e.percentrankdps-t.percentrankdps})),title:"DPS: Compare Percentiles"}),Object(U.jsx)(V,{data:null===(o=e.data.data)||void 0===o?void 0:o.filter((function(e){return"SUPPORT"===e.archetype})).sort((function(e,t){return e.percentrankdps-t.percentrankdps})),title:"SUPPORT: Compare Percentiles"}),Object(U.jsx)(V,{data:null===(s=e.data.data)||void 0===s?void 0:s.filter((function(e){return"HEALER"===e.archetype})),title:"HEALER: Compare Percentiles"})]})]}):Object(U.jsxs)(E.a,{variant:"outlined",children:[Object(U.jsx)(M.a,{avatar:Object(U.jsx)(W.a,{variant:"square",className:l.large,alt:void 0,src:void 0}),title:void 0,subheader:void 0}),Object(U.jsx)(q.a,{children:!e.isEmpty&&Object(U.jsx)(J.a,{})})]})}var X=Object(D.a)((function(e){return Object(F.a)({previewChip:{minWidth:160,maxWidth:210},iconButton:{padding:10},divider:{height:28,margin:4},control:{justifyContent:"center",display:"flex",marginBottom:10}})}));function Z(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)([]),o=Object(b.a)(i,2),u=o[0],D=o[1],F=Object(r.useState)(""),N=Object(b.a)(F,2),I=N[0],z=N[1],E=Object(r.useState)(!1),M=Object(b.a)(E,2),W=M[0],q=M[1],H=Object(r.useState)(""),J=Object(b.a)(H,2),Y=J[0],_=J[1],G=Object(r.useState)(""),V=Object(b.a)(G,2),Q=V[0],Z=V[1],$=Object(r.useState)(0),ee=Object(b.a)($,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(new Map),re=Object(b.a)(ne,2),ce=re[0],ie=re[1],oe=Object(r.useState)([]),se=Object(b.a)(oe,2),le=se[0],ue=se[1],pe=X(),de="https://logcompare.herokuapp.com";function je(e,t){"clickaway"!==t&&q(!1)}function be(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(j.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(de,"/api/percentiles/?name=").concat(t.name));case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,r=n.filter((function(e){return e.tryID===t.tryID})),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),z(e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function he(){return(he=Object(j.a)(p.a.mark((function e(t){var a,n,r,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),a=Object(s.a)(t),e.prev=2,a.s();case 4:if((n=a.n()).done){e.next=15;break}return r=n.value,e.prev=6,e.delegateYield(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new FormData).append("file",r.file),e.next=4,fetch("".concat(de,"/api/fights/upload_report/"),{method:"POST",body:i});case 4:return o=e.sent,e.next=7,o.json();case 7:t=e.sent,c((function(e){return[].concat(Object(l.a)(e),[t])}));case 9:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(6),z(e.t1);case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(2),a.e(e.t2);case 20:return e.prev=20,a.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,17,20,23],[6,10]])})))).apply(this,arguments)}function me(){return(me=Object(j.a)(p.a.mark((function e(){var t,r,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=p.a.mark((function e(r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce.get(r)===n.Done&&t.push(u[r]),ie((function(e){return new Map(e).set(r,n.Started)})),e.next=4,be(a[r]);case 4:i=e.sent,c={metadata:a[r],data:i},t.push(c),ie((function(e){return new Map(e).set(r,n.Done)}));case 8:case"end":return e.stop()}}),e)})),c=0;case 3:if(!(c<a.length)){e.next=8;break}return e.delegateYield(r(c),"t0",5);case 5:c++,e.next=3;break;case 8:D(t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(j.a)(p.a.mark((function e(t){var n,r,i,o,u,d,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),n=Y.replace(/\n/g,",").split(",").map((function(e){return e.trim()})),r=a.map((function(e){return e.permaLink})),i=n.filter((function(e){return r.indexOf(e)<0}),r),console.log("Links list size: ".concat(n.length)),console.log("filtered list size: ".concat(i.length)),!(n.length>i.length)){e.next=10;break}return z("Link already added."),q(!0),e.abrupt("return");case 10:o=Object(s.a)(i),e.prev=11,o.s();case 13:if((u=o.n()).done){e.next=24;break}return d=u.value,e.prev=15,e.delegateYield(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(de,"/api/fights/upload_report/"),{method:"POST",body:JSON.stringify({link:d}),headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return j=e.sent,e.next=5,j.json();case 5:t=e.sent,c((function(e){return[].concat(Object(l.a)(e),[t])}));case 7:case"end":return e.stop()}}),e)}))(),"t0",17);case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(15),z(e.t1);case 22:e.next=13;break;case 24:e.next=29;break;case 26:e.prev=26,e.t2=e.catch(11),o.e(e.t2);case 29:return e.prev=29,o.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[11,26,29,32],[15,19]])})))).apply(this,arguments)}function xe(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(j.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),e.prev=1,e.next=4,fetch("".concat(de,"/api/fights/account_fight/?account=").concat(Q));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,c((function(e){return[].concat(Object(l.a)(e),Object(l.a)(n))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),z(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function ke(e){switch(ce.get(e)){case n.Started:return Object(U.jsx)(w.a,{variant:"indeterminate",style:{marginRight:10}});case n.Done:return Object(U.jsx)(w.a,{variant:"determinate",value:100,style:{marginRight:10}});default:return Object(U.jsx)(w.a,{variant:"indeterminate",value:2,style:{marginRight:10}})}}return Object(U.jsxs)(f.a,{maxWidth:"lg",children:[Object(U.jsx)(h.a,{paddingTop:2,paddingBottom:2,marginBottom:1,color:"primary.main",children:Object(U.jsx)(m.a,{variant:"h2",align:"center",children:"Log Compare"})}),Object(U.jsx)(C.a,{open:W,autoHideDuration:6e3,onClose:je,children:Object(U.jsx)(B.a,{onClose:je,severity:"error",children:I})}),Object(U.jsx)(R.a,{fileObjects:le,maxFileSize:2e11,acceptedFiles:[".evtc",".zevtc"],onAdd:function(e){return he.apply(this,arguments)},filesLimit:10,onDelete:function(e){ue(le.splice(le.findIndex((function(t){return t.file.name===e.file.name})),0))},showPreviews:!0,showPreviewsInDropzone:!0,useChipsForPreview:!0,previewGridProps:{container:{spacing:1,direction:"row"}},previewChipProps:{classes:{root:pe.previewChip}},previewText:"Selected files"}),Object(U.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return ve(e)},children:Object(U.jsx)(v.a,{id:"dpsreport-full-width",name:"dpsreport",label:"dps.report",style:{margin:8},placeholder:"https://dps.report/...",helperText:"Paste dps.report links here! Separate by newline or commas.",fullWidth:!0,margin:"normal",variant:"outlined",multiline:!0,rows:5,value:Y,InputLabelProps:{shrink:!0},onChange:function(e){return _(e.target.value)},InputProps:{startAdornment:Object(U.jsxs)(O.a,{position:"start",children:[Object(U.jsx)(x.a,{className:pe.iconButton,"aria-label":"search-account",onClick:function(e){return ve()},children:Object(U.jsx)(L.a,{})}),Object(U.jsx)(g.a,{className:pe.divider,orientation:"vertical"}),Object(U.jsx)(x.a,{className:pe.iconButton,"aria-label":"clear-input",onClick:function(e){_("")},children:Object(U.jsx)(T.a,{})})]})}})}),Object(U.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return xe(e)},children:Object(U.jsx)(v.a,{id:"account-full-width",label:"Account",style:{margin:8},placeholder:"Gw2 Account Name",helperText:"Search for your account",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},onChange:function(e){return Z(e.target.value)},InputProps:{startAdornment:Object(U.jsx)(O.a,{position:"start",children:Object(U.jsx)(x.a,{"aria-label":"search-account",onClick:function(e){return xe()},children:Object(U.jsx)(A.a,{})})})}})}),Object(U.jsxs)(P.a,{size:"large",color:"primary","aria-label":"control-group",className:pe.control,children:[Object(U.jsx)(S.a,{variant:"outlined",size:"large",color:"primary",onClick:function(){return me.apply(this,arguments)},children:"Compare"}),Object(U.jsx)(S.a,{variant:"outlined",size:"large",color:"primary",onClick:function(){return window.location.reload()},children:"Refresh Page"})]}),Object(U.jsx)(k.a,{value:te,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return ae(t)},"aria-label":"report-tabs",scrollButtons:"auto",variant:"scrollable",children:a.map((function(e,t){return Object(U.jsx)(y.a,Object(d.a)({label:e.tryID,value:t,icon:ke(t)},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t)),t)}))}),Object(U.jsx)(K,{isEmpty:0===u.length,data:u[te]})]})}var $=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,221)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};o.a.render(Object(U.jsx)(c.a.StrictMode,{children:Object(U.jsx)(Z,{})}),document.getElementById("root")),$()}},[[143,1,2]]]);
//# sourceMappingURL=main.cbcea7d6.chunk.js.map